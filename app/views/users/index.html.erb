<% flash.each do |key, message| %>
  <div id="flash" class="alert alert-<%= key %>" style="color: green; 
    border: 1px solid green; 
    padding: 7px; 
    background-color:#f8d7da; 
    border-radius: 4px; 
    margin-bottom: 5px;
    text-align: center">
    <%= message %>
  </div>
  <script>
    setTimeout(() => {
      const message = document.getElementById("flash")
      if(message) message.style.display = "none"
    }, 5000);
  </script>
<% end %>



<h1 style="text-align:center">Users Listing</h1>


<button type="button" style="float:left; margin-left:30px; width: 150px; height:50px; margin-top:0px; background-color: black; border-radius:10px">
  <a style="text-decoration: none; color:white; font-size:15px" href= "users/new"style="margin: 15px, text-decoration:none">Create New User</a>
</button>


<table style="border: 1px black solid; width: 90%; border-collapse:collapse; font-size:20px; margin:25px; text-align:center; margin-top:100px">
  <tr>
    <th style="border: 1px black solid; padding:15px">Id </th>
    <th style="border: 1px black solid; padding:15px">Name </th>
    <th style="border: 1px black solid; padding:15px">EMail</th>
    <th style="border: 1px black solid; padding:15px">Username </th>
    <th style="border: 1px black solid; padding:15px" colspan ="4">Actions</th>
  </tr>
        
  <% @users.each do |user| %>
      <tr>
        <td style="border: 1px black solid; padding: 15px"> <%= user.id %> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= user.name %> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= user.email %> </td> 
        <td style="border: 1px black solid; padding: 15px"> <%= user.username %> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= link_to "View", user_path(user), method: :get, style:"text-decoration:none; color: white; border: 1px solid black;font-size: 15px; padding: 7px; border-radius: 10px; height:15px; background-color:black"%> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= link_to "Edit", edit_user_path(user), method: :get, style:"text-decoration:none; color: white; border: 1px solid black;font-size: 15px; padding: 7px; border-radius: 10px; height:15px; background-color:black"%> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= link_to "Delete",user_path(user), method: :delete, data: {confirm: "Are you sure?"}, style:"text-decoration:none; color: white; border: 1px solid black;font-size: 15px; padding: 7px; border-radius: 10px; height:15px; background-color:black"%> </td>
        <td style="border: 1px black solid; padding: 15px"> <%= link_to "View Posts", posts_path(user_id: user.id), method: :post, style:"text-decoration:none; color: white; border: 1px solid black;font-size: 15px; padding: 7px; border-radius: 10px; height:15px; background-color:black"%>
 </td>

      </tr>
  <% end %>
</table>








