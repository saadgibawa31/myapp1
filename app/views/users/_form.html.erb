<% if @user.errors.any? %>
  <div id="errors">
    <h2><%= pluralize(@user.errors.count, "error") %> 
      prohibited this user from being saved:</h2>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(model: @user, local: true) do |form| %>
    <div>
        <%= form.label :name%>
        <%= form.text_field :name%>
        <% if @user.errors[:name].any? %>
            <div style="color: red"><%= @user.errors[:name].first %></div>
        <% end %>
    </div>

    <div>
        <%= form.label :email%>
        <%= form.email_field :email%>
        <% if @user.errors[:email].any?%>
          <div style="color: red"><%= @user.errors[:email].first%> </div>
        <%end%>
    </div>

    <div>
        <%= form.label :username %>
        <%= form.text_field :username%>
        <% if @user.errors[:username].any?%>
          <div style="color: red"><%= @user.errors[:username].first%> </div>
        <%end%>
    </div>

    <div>
        <%= form.label :password%>
        <%= form.password_field :password %>
        <%if @user.errors[:password].any?%>
          <div style="color: red"> <%= @user.errors[:password].first%> </div>
         <%end%>
    </div>

    <div>
        <%= form.submit btn_text%>
    </div>
<%end%>